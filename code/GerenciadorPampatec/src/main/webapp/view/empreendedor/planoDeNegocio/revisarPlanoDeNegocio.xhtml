<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>

        <f:facet name="last">
            <h:outputStylesheet library="css" name="animation.css"  />
            <h:outputStylesheet library="css" name="bootstrap.css"  />
            <h:outputStylesheet library="css" name="outro.css"  />
            <h:outputStylesheet library="css" name="projeto.css"  />
            <h:outputStylesheet library="css" name="font-awesome.min.css"  />
            <h:outputStylesheet library="css" name="ns-default.css"/>
            <h:outputStylesheet library="css" name="ns-style-growl.css"/>

        </f:facet>


        <h:outputScript library="js" name="bootstrap-3.3.6.min.js"/>
        <h:outputScript library="js" name="preavaliacao.js" />          
        <h:outputScript library="js" name="js.js"/>
        <h:outputScript library="js" name="mensagemFeedBack.js" />	
        <h:outputScript library="js" name="chamaModal.js"/>        


        <title>Revisar Plano de Negócio</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <script>
            var andamentoProjeto = #{revisarPlanoDeNegocioBean.retornaStatusProjeto()};
        </script>
    </h:head>
    <h:body onload="carregaPagina(), verificaComentariosRevisar(), timeoutMensagemFeedBack(SALVO), timeoutMensagemFeedBack(ERRO);">

        <!-- Início do menu superior -->
        <h:form id="menuSuperior">
            <nav class="navbar navbar-default">
                <div class="container-fluid">
                    <div class="col-md-6">
                        <h4 style="color: white;">Bem-vindo(a) <h:outputText value="#{loginBean.nome}!"></h:outputText></h4>
                    </div>
                    <div class="col-md-6">
                        <ul class="nav navbar-nav navbar-right">

                            <li class="dropdown">
                                <h:commandLink value="Início" action="#{loginBean.getInicioRevisar()}"></h:commandLink>
                            </li>

                            <li>
                                <h:outputLink class="dropdown-toggle" onclick="exibeNotificacoes()" value="#" id="barraNotificacoes">
                                    Notificações
                                    <span class="badge">
                                        <h:outputText value="#{notificacoesEmpreendedorBean.quantidadeNotificacoes}"></h:outputText> 
                                    </span>
                                    <f:ajax execute="@form" event="click" listener="#{notificacoesEmpreendedorBean.mudaStatusNotificacao()}"/>
                                </h:outputLink>
                            </li>

                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Planos de Negócio
                                    <span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu" role="menu">
                                    <li><h:commandLink action="#{projetoBean.criarNovoPlanoRevisar()}" value="Novo Plano"></h:commandLink></li>
                                    <li><h:commandLink action="#{loginBean.getVisualizarPlanosRevisar()}" value="Lista de Planos"></h:commandLink></li>
                                </ul>
                            </li>

                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Opções <span class="caret"></span></a>
                                <ul class="dropdown-menu" role="menu">
                                    <li><h:commandLink action="#{editarEmpreendedorBean.editarEmpreendedorRevisar()}" value="Perfil"></h:commandLink></li>
                                    <li>
                                        <h:commandLink  value="Sair" action="#{loginBean.fazLogout()}">
                                        </h:commandLink>
                                    </li>
                                </ul>
                            </li>

                        </ul>
                    </div>
                </div>
            </nav>
            <!-- Inicio dos Modais apresentadas -->

            <!-- Modal com as NOTIFICAÇÕES do usuário -->
            <div class="modal fade" id="modalNotificacoes" role="dialog">

                <div class="modal-dialog">

                    <div class="panel panel-success">
                        <div class="panel-heading">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h3 class="panel-title">Notificações</h3>
                        </div>
                        <div class="panel-body" align="center">
                            <h:dataTable id="tabelaNotificacoes" value="#{notificacoesEmpreendedorBean.notificacoes}" var="notificacao">
                                <h:column>
                                    <div class="bordas">
                                        <h:outputText value="#{notificacao.descricao}"/>
                                        <a href="#{notificacao.link}"> Clique aqui </a> Para ver detalhes.
                                    </div>
                                </h:column>
                            </h:dataTable>
                        </div>
                        <div class="panel-footer" align="right">
                            <button type="button" class="btn btn-success" data-dismiss="modal" aria-hidden="true" value="Voltar">Voltar</button>
                        </div>
                    </div>

                </div>
            </div>
            <!-- Fim do Modal com as NOTIFICAÇÕES -->
            <!-- SEÇÃO DO WORKFLOW HORIZONTAL -->
            <div class="col-md-12 text-center noprint" style="background-color: #00A859;">
                <ul id="progressbar">
                    <li id="etapa1" class="active" style="cursor: pointer;"><a href="../enviarProjeto.jsf">Elaboração</a></li>
                    <li id="etapa2" class="active etapaAtual" style="cursor: pointer;"><a href="revisarPlanoDeNegocio.jsf" onclick="mostra_vertical_pre_avaliacao(), addFoco('etapa2')">Pré-Avaliação</a></li>
                    <li id="etapa3" style="cursor: pointer;"><a href="avaliacaoPlanoDeNegocio.jsf">Avaliação</a></li>
                    <li id="etapa4" style="cursor: pointer;"><a onclick="mostra_formalizacao(), addFoco('etapa4')">Formalização</a></li>
                    <li id="etapa5" style="cursor: pointer;"><a onclick="mostra_incubacao(), addFoco('etapa5')">Incubação</a></li>
                </ul>
            </div>

            <!-- Fim das modais apresentadas -->

            <!-- SEÇÃO DO WORKFLOW VERTICAL ETAPA PRE-AVALIACAO-->
            <div id="vertical_etapa_pre_avaliacao" class="col-md-2 text-center estiloDivVertical noprint">
                <div class="divPadding text-center">
                    <h:commandButton  class="btn btn-success btnWorkflowV"
                                      type="button" title="Visualizar resultado do avaliador"
                                      id="botao_resultado_preavaliacao"
                                      disabled="#{(revisarPlanoDeNegocioBean.verificaStatusSubmetido(projetoSelecionado))
                                                  || (revisarPlanoDeNegocioBean.verificaStatusReSubmetido(projetoSelecionado))
                                                  || (revisarPlanoDeNegocioBean.verificaStatusEmPreAvaliacao(projetoSelecionado))
                                                  || (revisarPlanoDeNegocioBean.verificaStatusSendoAvaliado(projetoSelecionado))  }"
                                      value="Resultado" 
                                      onclick="mostraDIV('sessao_resultado_avaliador'), addFocoBotao('menuSuperior:botao_resultado_preavaliacao')">
                    </h:commandButton>
                    <br/>
                </div>
                <div class="divPadding text-center">

                    <h:commandButton  class="btn btn-success btnWorkflowV" 
                                      rendered="#{revisarPlanoDeNegocioBean.verificaStatusNecessitaMelhoria(projetoSelecionado)
                                                  || revisarPlanoDeNegocioBean.verificaStatusRevisando(projetoSelecionado)}"
                                      type="button" 
                                      title="Revisar plano de negócio" 
                                      id="botao_revisar"
                                      value="Revisar" 
                                      onclick="addFocoBotao('menuSuperior:botao_revisar'), mostraDIV('sessao_revisar_plano_pre_melhoria')">
                    </h:commandButton><br/>
                </div>

                <div class="divPadding text-center">
                    <h:commandButton  class="btn btn-success btnWorkflowV"
                                      rendered="#{revisarPlanoDeNegocioBean.verificaStatusNecessitaMelhoria(projetoSelecionado)}"
                                      id="botao_Ressubmeter"
                                      type="button" 
                                      title="Terminar e submeter a revisão do plano de negócio."
                                      value="Ressubmeter"
                                      onclick="chamaModal(modalInfoDeEnvio), addFocoBotao('menuSuperior:botao_Ressubmeter')"
                                      >
                    </h:commandButton>
                    <br/>
                </div>                
            </div>
            <!-- FIM DA SEÇÃO DO WORKFLOW VERTICAL ETAPA PRE-AVALIACAO-->


        </h:form>
        <!-- Fim do menu superior -->

        <!-- Script para exibição da info do botão SALVAR -->
        <script>

            function infoSalvar() {
                $("#modalInfoSalvar").modal();
            }

            function confirmacaoDeEnvio() {
                $("#modalInfoDeEnvio").modal();
            }

            function mostrarFeedBack(id) {
                var campo = document.getElementById(id);
                if ($(campo).hasClass("form-control campoFeedBackOn")) {
                    $(campo).fadeOut(900);
                    campo.setAttribute("class", "form-control campoFeedBack");
                } else {
                    $(campo).fadeIn(900);
                    campo.setAttribute("class", "form-control campoFeedBackOn");
                }
            }

            document.onmouseover = function () {
                //O cara ta clicando dentro da página que a gente usa
                //esse método previne que mude a hash quando navegar dentro do projeto
                //Utilizado no OnHashChange ali em baixo.
                window.innerDocClick = true;
            };

            document.onmouseleave = function () {
                //O cara tirou o mouse do documento, então agora a gente corre o
                //risco dele clicar no botão voltar.
                window.innerDocClick = false;
            };


            window.onhashchange = function () {
                if (window.innerDocClick) {
                    //Nós mudamos o hash, então não faz diferença.
                } else {
                    //O botão de voltar foi clicado
                    botaoVoltar();
                }
            };


            function botaoVoltar() {
                alert("Enrrtoiofd");
            }
        </script>
        <!-- Fim do Script de informação -->

        <h:form id="formulario_resubmeterplano" >

            <!-- Notificação Plano salvo com sucesso. -->
            <h:panelGroup layout="block" id="mensagemSalvamento">
                <h:panelGroup id="notificacaoSalvo" layout="block" rendered="#{revisarPlanoDeNegocioBean.salvou}" style="position: fixed; left: 40%;" class="ns-box ns-growl notSalvo ns-type-notice ns-show animated">
                    <div>
                        <i class="fa fa-floppy-o fa-2x" aria-hidden="true"></i>
                        <p style="padding-left: 15%; margin-top: -17%;">Suas informações foram salvas com sucesso!</p>
                        <span id="closeFeedBack" class="ns-close" onclick="fecharMensagemFeedBackSalvo();"></span>
                    </div>
                </h:panelGroup>
            </h:panelGroup>
            <!-- Fim Notificação Plano salvo com sucesso. -->
            
                <!-- Notificação erro ao submeter. -->
                <h:panelGroup layout="block" id="mensagemErroSubmissao">
                    <ui:repeat value="#{facesContext.getMessageList('formulario_resubmeterplano:tituloMensagem')}" var="message">
                        <h:panelGroup id="notificacaoErroSubmissao" layout="block" style="position: fixed; left: 40%;" class="ns-box ns-growl notErro ns-type-notice ns-show animated">
                            <div>
                                <i class="fa fa-exclamation-circle fa-2x" aria-hidden="true"></i>
                                <h:message for="formulario_resubmeterplano:tituloMensagem"/>
                                <span id="closeFeedBack" class="ns-close" onclick="fecharMensagemFeedBackErro();"></span>
                            </div>
                        </h:panelGroup>
                    </ui:repeat>
                </h:panelGroup>

            <!-- Início dos MODAIS exibidos no formulário -->

            <!-- Modal com a Informação do botão SALVAR -->
            <div class="modal fade" id="modalInfoSalvar" role="dialog">

                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header fundoVerde">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h3 class="modal-title">Salvar Edições</h3>
                        </div>
                        <div class="modal-body">
                            Ao clicar no botão <strong><u>Salvar Revisão Pós Pré-Avaliação</u></strong> os campos preenchidos ficam salvos, 
                            para que você possa retornar e acabar de preenchê-los em outro momento.<br/><br/>
                        </div>
                        <div class="modal-footer">
                            <button type="button" 
                                    class="btn btn-default" 
                                    data-dismiss="modal">
                                Voltar para edição
                            </button>
                            <h:commandButton type="submit" 
                                             class="btn btn-success" 
                                             value="Salvar Plano de Projeto" 
                                             action="#-{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}">
                            </h:commandButton>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fim do Modal de informação do botão Salvar -->

            <!-- Modal com a Informação do botão ENVIAR PARA AVALIAÇÃO -->
            <div class="modal fade" id="modalInfoDeEnvio" role="dialog" >
                <div class="modal-dialog">

                    <!-- Conteúdo do Modal -->
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header fundoVerde">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                <h3 class="modal-title">Ressubmeter</h3>
                            </div>
                            <div class="modal-body">
                                Ao clicar no botão <strong><u>Confirmar Envio</u></strong> suas alterações no Plano de Negócio serão salvas e submetidas para uma nova avaliação do <strong>Gerente de Relacionamento</strong>. Após enviar o Plano de Negócio, este <strong>não poderá mais ser editado</strong>.
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Voltar para a edição</button>
                                <h:commandButton class="btn btn-success" value="Confirmar Envio" action="#{revisarPlanoDeNegocioBean.terminarRevisaoProjeto()}"></h:commandButton>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
            <!-- Fim do Modal de informação do botão Salvar -->

            <!-- Fim dos MODAIS exibidos no formulário -->



            <div  id="sessao_revisar_plano_pre_melhoria" class="classeConteudo col-md-10 form-horizontal well bs-component esconder-div">
                <br/>
                <div id="form-revisao" class="col-md-12 form-horizontal well bs-component">
                    <h1>Revisar Plano de Negócio</h1>
                    <h:outputText id="tituloMensagem"></h:outputText>
                    <h:message for="tituloMensagem" errorClass="mensagemErro"></h:message>
                    <br/>
                    <br/>
                    <div>

                        <ul class="nav nav-tabs">
                            <li class="abaPlano active"><a id="tabContato" aria-expanded="true" title="Visualizar Informações" href="#formParte01" data-toggle="tab" >Informações</a></li>
                            <li class="abaPlano"><a id="tabNegocio" aria-expanded="false" title="Visualizar O Negócio" href="#formParte02" data-toggle="tab">O Negócio</a></li>
                            <li class="abaPlano"><a id="tabAnaliseMercado" aria-expanded="false" title="Visualizar Análise de Mercado" href="#formParte03" data-toggle="tab">Análise de Mercado</a></li>
                            <li class="abaPlano"><a id="tabProdutoServico" aria-expanded="false" title="Visualizar Produto de Serviço" href="#formParte04" data-toggle="tab">Produto de Serviço</a></li>
                            <li class="abaPlano"><a id="tabGestaoPessoas" aria-expanded="false" title="Visualizar Gestão de Pessoas" href="#formParte05" data-toggle="tab">Gestão de Pessoas</a></li>
                            <li class="abaPlano"><a id="tabPlanoFinanceiro" aria-expanded="false" title="Visualizar Plano Financeiro" href="#formParte06" data-toggle="tab">Plano Financeiro</a></li>
                        </ul>
                        <div id="myTabContent" class="tab-content" >

                            <!-- Ínicio da PRIMEIRA PARTE do formulário para Envio de Projeto Referente ao CONTATO -->

                            <div class="tab-pane fade active in" id="formParte01" >
                                <br/>
                                <div id="formularioParte01">

                                    <div class="col-md-12">

                                    </div>
                                    <div class="col-md-4">
                                        <b>Nome da Empresa ou Projeto* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('nome')}"></p:commandLink></b><br/>
                                        <p:inputText id="empresaProjeto" class="form-control" 
                                                     value="#{revisarPlanoDeNegocioBean.projeto.nome}"
                                                     disabled="true"
                                                     >
                                        </p:inputText>
                                        <h:message class="mensagemErro" for="empresaProjeto"/>
                                        <br/>
                                    </div>

                                    <div class="col-md-4">
                                        <b>Data de submissão <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('nome')}"></p:commandLink></b><br/>
                                        <p:inputText id="dataSubmit" class="form-control"  
                                                     value="#{revisarPlanoDeNegocioBean.projeto.formatarDataEnvio()}"
                                                     disabled="true"
                                                     ></p:inputText>
                                        <br/>
                                    </div>


                                    <div class="col-md-4">
                                        <b>Edital <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('nome')}"></p:commandLink></b><br/>
                                        <p:inputText id="edital" class="form-control"  
                                                     value="#{revisarPlanoDeNegocioBean.projeto.edital}"
                                                     disabled="true"
                                                     ></p:inputText>
                                        <br/>
                                    </div>

                                    <div class="col-md-12">
                                        <p:dataTable var="empreendedor"  styleClass="tabelaEmpreendedores" value="#{revisarPlanoDeNegocioBean.projeto.empreendedores}">
                                            <f:facet name="header">
                                                Empreendedores
                                            </f:facet>
                                            <p:column headerText="Nome">
                                                <h:outputText value="#{empreendedor.nome}" />
                                            </p:column>
                                            <p:column headerText="CPF">
                                                <h:outputText value="#{empreendedor.cpf}" />
                                            </p:column>
                                            <p:column headerText="E-Mail">
                                                <h:outputText value="#{empreendedor.email}" />
                                            </p:column>
                                        </p:dataTable>
                                        <br/>
                                    </div>


                                    <div class="col-md-3"></div>

                                </div>

                            </div>

                            <!-- Fim da primeira parte do formulário -->

                            <!-- Ínicio da SEGUNDA PARTE do formulário para Envio de Projeto Referente ao NEGÓCIO -->

                            <div class="tab-pane fade" id="formParte02">

                                <div id="formularioParte02">

                                    <h:panelGroup layout="block" class="template-mensagens template-mensagens-danger" rendered="#{revisarPlanoDeNegocioBean.verificaStatusNecessitaMelhoria(projetoSelecionado)}">
                                        <h4>Atenção!</h4>
                                        <p>Campos com bordas em <label style="color: red">vermelho</label> apresentam comentários do Gerente de Relacionamento e <b>devem</b> ser seguidas essas orientações, clique no botão "Comentário do Avaliador" para visualizá-lo.</p>
                                    </h:panelGroup>
                                    <h:panelGroup layout="block" class="template-mensagens template-mensagens-aviso" rendered="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}">
                                        <h4>Aviso</h4>
                                        <p>Campos com bordas em <label style="color: red">vermelho</label> apresentam comentários (sugestões ou observações) do Gerente de Relacionamento, clique no botão "Comentário do Avaliador" para visualizá-lo.</p>
                                    </h:panelGroup>

                                    <div class="col-md-12 espaco">
                                        <b>Segmento de Clientes* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('segmentoDeClientes')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroSegmento" class="mensagemErro" for="segmentoDeClientes1"/><br/>
                                        Para quem criamos valor? Quais são os nossos clientes mais importantes? 
                                        <h:inputTextarea id="segmentoDeClientes1"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}" 
                                                         class="form-control campoInvalido semResize" style="resize: none" onchange="precisaSalvar = true;" rows="5"
                                                         requiredMessage="Insira o segmento de clientes antes de enviar" 
                                                         value="#{revisarPlanoDeNegocioBean.projeto.negocio.segmentoClientes}"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.segmentosClientes.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.segmentosClientes.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea id="segmentoDeClientes2"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         class="form-control semResize" style="resize: none" onchange="precisaSalvar = true;" rows="5"
                                                         requiredMessage="Insira o segmento de clientes antes de enviar" 
                                                         value="#{revisarPlanoDeNegocioBean.projeto.negocio.segmentoClientes}"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.segmentosClientes.texto || revisarPlanoDeNegocioBean.comentarioProjeto.segmentosClientes.texto.equals('')}"
                                                         styleClass="#{not component.valid ? 'form-control campoInvalido' : 'form-control'}">
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{(not empty revisarPlanoDeNegocioBean.comentarioProjeto.segmentosClientes.texto) and (!revisarPlanoDeNegocioBean.comentarioProjeto.segmentosClientes.texto.equals(''))}"
                                                             id="comentarioSegCliente" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:segmentoDeClientes3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."

                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">
                                            <p:inputTextarea class="form-control campoFeedBack" 
                                                             rows="5" style="resize: none;"  
                                                             disabled="true" id="segmentoDeClientes3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.segmentosClientes.texto}">
                                            </p:inputTextarea>
                                            <h:message class="mensagemErro" for="segmentoDeClientes"/>
                                        </div>
                                    </div>

                                    <div class="col-md-12 espaco">
                                        <b>Proposta de Valor* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('propostaDeValor')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroProposta" class="mensagemErro" for="propostaDeValor1"/><br/>
                                        Que valor proporcionamos aos nossos clientes? Que problema de nossos clientes ajudamos a solucionar? Que pacotes de produtos ou serviços oferecemos a cada segmento de mercado?
                                        <h:inputTextarea id="propostaDeValor1"
                                                         class="form-control campoInvalido" style="resize: none" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira a proposta de valor antes de enviar"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.negocio.propostaValor}"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.propostaValor.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.propostaValor.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>                                      
                                        </h:inputTextarea>
                                        <h:inputTextarea id="propostaDeValor2"
                                                         class="form-control" style="resize: none" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira a proposta de valor antes de enviar"  
                                                         value="#{revisarPlanoDeNegocioBean.projeto.negocio.propostaValor}"
                                                         styleClass="#{not component.valid ? 'form-control campoInvalido' : 'form-control'}"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.propostaValor.texto || revisarPlanoDeNegocioBean.comentarioProjeto.propostaValor.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{(not empty revisarPlanoDeNegocioBean.comentarioProjeto.propostaValor.texto) and (!revisarPlanoDeNegocioBean.comentarioProjeto.propostaValor.texto.equals(''))}"
                                                             id="comentarioPropostaValor" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:propostaDeValor3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">
                                            <p:inputTextarea class="form-control campoFeedBack" 
                                                             rows="5" style="resize: none;" 
                                                             disabled="true" id="propostaDeValor3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.propostaValor.texto}">
                                            </p:inputTextarea>
                                            <h:message class="mensagemErro" for="propostaDeValor"/>
                                        </div>
                                    </div>

                                    <div class="col-md-12 espaco">
                                        <b>Atividades Chave* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('atividadesChave')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroAtividades" class="mensagemErro" for="atividadesChave1"/><br/>
                                        Que atividades chave requerem nossas propostas de valor? Nossos canais de distribuição?
                                        <h:inputTextarea id="atividadesChave1" 
                                                         class="form-control campoInvalido" style="resize: none" onchange="precisaSalvar = true;" rows="5" 
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira as atividades chave antes de enviar"  
                                                         value="#{revisarPlanoDeNegocioBean.projeto.negocio.atividadesChaves}"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.atividadeChave.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.atividadeChave.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>                                       
                                        </h:inputTextarea>
                                        <h:inputTextarea id="atividadesChave2"
                                                         class="form-control" style="resize: none" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira as atividades chave antes de enviar"  
                                                         value="#{revisarPlanoDeNegocioBean.projeto.negocio.atividadesChaves}"
                                                         styleClass="#{not component.valid ? 'form-control campoInvalido' : 'form-control'}"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.atividadeChave.texto || revisarPlanoDeNegocioBean.comentarioProjeto.atividadeChave.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{(not empty revisarPlanoDeNegocioBean.comentarioProjeto.atividadeChave.texto) and (!revisarPlanoDeNegocioBean.comentarioProjeto.atividadeChave.texto.equals(''))}"
                                                             id="comentarioAtividadesChaves" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:atividadesChaves3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                                
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">
                                            <h:inputTextarea class="form-control campoFeedBack" 
                                                             rows="5" style="resize: none;" 
                                                             disabled="true" id="atividadesChaves3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.atividadeChave.texto}">
                                            </h:inputTextarea>                                        
                                        </div>
                                        <h:message class="mensagemErro" for="atividadesChave"/>
                                        <br/>
                                    </div>
                                    <br/>
                                    <hr></hr>
                                    <div class="col-md-4"></div>
                                    <div class="col-md-4 text-center">
                                        <p:commandButton id="botaoSalvar2" 
                                                         class="botaoBase botaoVerde" 
                                                         type="button" 
                                                         title="Salvar a revisão do projeto." 
                                                         value="Salvar Revisão"
                                                         icon="fa fa-save">
                                            <p:ajax event="click"
                                                    update="formulario_resubmeterplano:mensagemSalvamento" 
                                                    onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/> 	                                        
                                        </p:commandButton>
                                        <h:message for="botaoSalvar2"></h:message>
                                    </div>
                                    <br/>
                                </div>
                            </div>

                            <!-- Fim da segunda parte do formulário -->

                            <!-- Ínicio da TERCEIRA PARTE do formulário para Envio de Projeto Referente a ANÁLISE DE MERCADO -->

                            <div class="tab-pane fade" id="formParte03">
                                <div id="formularioParte03">

                                    <h:panelGroup layout="block" class="template-mensagens template-mensagens-danger" rendered="#{revisarPlanoDeNegocioBean.verificaStatusNecessitaMelhoria(projetoSelecionado)}">
                                        <h4>Atençao!</h4>
                                        <p>Campos com bordas em <label style="color: red">vermelho</label> apresentam comentários do Gerente de Relacionamento e <b>devem</b> ser seguidas essas orientações, clique no botão "Comentário do Avaliador" para visualizá-lo.</p>
                                    </h:panelGroup>
                                    <h:panelGroup layout="block" class="template-mensagens template-mensagens-aviso" rendered="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}">
                                        <h4>Aviso</h4>
                                        <p>Campos com bordas em <label style="color: red">vermelho</label> apresentam comentários (sugestões ou observações) do Gerente de Relacionamento, clique no botão "Comentário do Avaliador" para visualizá-lo.</p>
                                    </h:panelGroup>

                                    <div class="col-md-12 espaco">
                                        <b>Relações com clientes* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('relacoComClientes')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroRelacoes" class="mensagemErro" for="relacaoClientes1"/><br/>
                                        Que tipo de relação esperam os diferentes segmentos de mercado? Que tipo de relações temos estabelecido?
                                        <h:inputTextarea class="form-control campoInvalido  semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira as atividades chave antes de enviar" 
                                                         value="#{revisarPlanoDeNegocioBean.projeto.analiseemprego.relacoesClientes}"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.relacionamentoCliente.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.relacionamentoCliente.texto.equals('')}"
                                                         id="relacaoClientes1">
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control  semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira as atividades chave antes de enviar"  
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.relacionamentoCliente.texto || revisarPlanoDeNegocioBean.comentarioProjeto.relacionamentoCliente.texto.equals('')}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.analiseemprego.relacoesClientes}"
                                                         id="relacaoClientes2">
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.relacionamentoCliente.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.relacionamentoCliente.texto.equals('')}"
                                                             id="comentarioRelacoeClientes" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:relacaoClientes3')"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             value="Visualizar Comentário do Gerente"
                                                             icon="fa fa-eye">
                                                
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="relacaoClientes3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.relacionamentoCliente.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="relacaoClientes1"/>
                                        <br/>
                                    </div>
                                    <div class="col-md-12 espaco">
                                        <b>Parcerias chave* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('parceriasChaves')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroParcerias" class="mensagemErro" for="parceriasChaves1"/><br/>
                                        Quem são nossos parceiros chave? Que recursos chave adquirimos de nossos parceiros?
                                        <h:inputTextarea class="form-control campoInvalido  semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira as atividades chave antes de enviar"   
                                                         value="#{revisarPlanoDeNegocioBean.projeto.analiseemprego.parceriasChaves}"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.parceriasChave.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.parceriasChave.texto.equals('')}"
                                                         id="parceriasChaves1">
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control  semResize" onchange="precisaSalvar = true;" rows="5"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.analiseemprego.parceriasChaves}"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.parceriasChave.texto || revisarPlanoDeNegocioBean.comentarioProjeto.parceriasChave.texto.equals('')}"
                                                         id="parceriasChaves2">
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde"
                                                             disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.parceriasChave.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.parceriasChave.texto.equals('')}"
                                                             id="comentarioParceriasChaves" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:parceriasChaves3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">

                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="parceriasChaves3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.parceriasChave.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="parceriasChaves"/>

                                        <br/>
                                    </div>
                                    <div class="col-md-12 espaco">
                                        <b>Canais* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('canais')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroCanais" class="mensagemErro" for="canais1"/><br/>
                                        Que canais preferem nossos segmentos de mercado? Como entregamos nossa proposta de valor ao cliente? Quais têm melhores resultados?
                                        <h:inputTextarea class="form-control campoInvalido  semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.analiseemprego.canais}"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.canais.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.canais.texto.equals('')}"
                                                         id="canais1">
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control  semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.analiseemprego.canais}"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.canais.texto || revisarPlanoDeNegocioBean.comentarioProjeto.canais.texto.equals('')}"
                                                         id="canais2">
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.canais.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.canais.texto.equals('')}"
                                                             id="comentarioCanais" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:canais3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo a cima."
                                                             icon="fa fa-eye">
                                                
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="canais3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.canais.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="canais"/>

                                        <br/>
                                    </div>
                                    <div class="col-md-12 espaco">
                                        <b>Recursos principais* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('recursosPrincipais')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroRecursos" class="mensagemErro" for="recursosPrincipais1"/><br/>
                                        Que recursos chave requerem nossas propostas de valor? Nossos canais de distribuição? Relações com clientes? Fontes de renda?
                                        <h:inputTextarea class="form-control campoInvalido semResize" onchange="precisaSalvar = true;" rows="5"
                                                         id="recursosPrincipais1"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.recursosPrincipais.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.recursosPrincipais.texto.equals('')}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.analiseemprego.recursosPrincipais}">
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control semResize" onchange="precisaSalvar = true;" rows="5"
                                                         id="recursosPrincipais2"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.recursosPrincipais.texto || revisarPlanoDeNegocioBean.comentarioProjeto.recursosPrincipais.texto.equals('')}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.analiseemprego.recursosPrincipais}">
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.recursosPrincipais.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.recursosPrincipais.texto.equals('')}"
                                                             id="comentarioRecursosPrincipais" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:recursosPrincipais3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                                
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="recursosPrincipais3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.recursosPrincipais.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="recursosPrincipais"/>
                                        <br/>
                                    </div>
                                    <div class="col-md-12 espaco">
                                        <b>Concorrentes* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('concorrentes')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroConcorrentes" class="mensagemErro" for="concorrentes1"/><br/>
                                        Quem são nossos concorrentes? como trabalham?
                                        <h:inputTextarea class="form-control campoInvalido semResize" onchange="precisaSalvar = true;" rows="5"
                                                         id="concorrentes1"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.concorrentes.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.concorrentes.texto.equals('')}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.analiseemprego.concorrentes}">
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control semResize" onchange="precisaSalvar = true;" rows="5"
                                                         id="concorrentes2"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.concorrentes.texto || revisarPlanoDeNegocioBean.comentarioProjeto.concorrentes.texto.equals('')}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.analiseemprego.concorrentes}">
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.concorrentes.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.concorrentes.texto.equals('')}"
                                                             id="comentarioConcorrentes" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:concorrentes3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="concorrentes3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.concorrentes.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="concorrentes"/>
                                        <br />
                                    </div>

                                    <div class="col-md-4"><br /></div>
                                    <div class="col-md-4" align="center">
                                        <p:commandButton id="botaoSalvar3" 
                                                         class="botaoBase botaoVerde" 
                                                         type="button" 
                                                         title="Salvar a revisão do projeto."
                                                         value="Salvar Revisão"
                                                         icon="fa fa-save">
                                            <p:ajax event="click"
                                                    update="formulario_resubmeterplano:mensagemSalvamento" 
                                                    onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>                                         
                                        </p:commandButton>
                                        <h:message for="botaoSalvar3"></h:message>
                                    </div>
                                    <div class="col-md-4 text-right"></div>
                                </div>

                            </div>
                            <!-- Fim da terceira parte do formulário -->

                            <!-- Ínicio da QUARTA PARTE do formulário para Envio de Projeto Referente ao PRODUTO DE SERVIÇO -->

                            <div class="tab-pane fade" id="formParte04">
                                <div id="formularioParte04">

                                    <h:panelGroup layout="block" class="template-mensagens template-mensagens-danger" rendered="#{revisarPlanoDeNegocioBean.verificaStatusNecessitaMelhoria(projetoSelecionado)}">
                                        <h4>Atençao!</h4>
                                        <p>Campos com bordas em <label style="color: red">vermelho</label> apresentam comentários do Gerente de Relacionamento e <b>devem</b> ser seguidas essas orientações, clique no botão "Comentário do Avaliador" para visualizá-lo.</p>
                                    </h:panelGroup>
                                    <h:panelGroup layout="block" class="template-mensagens template-mensagens-aviso" rendered="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}">
                                        <h4>Aviso</h4>
                                        <p>Campos com bordas em <label style="color: red">vermelho</label> apresentam comentários (sugestões ou observações) do Gerente de Relacionamento, clique no botão "Comentário do Avaliador" para visualizá-lo.</p>
                                    </h:panelGroup>

                                    <div class="col-md-12">
                                        <b>Estágio de evolução* </b>
                                        <br/>
                                        Qual o estágio atual de evolução do produto ou serviço proposto?
                                        <h:panelGroup class="checkbox" id="abc1"
                                                      rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.estagioEvolucao.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.estagioEvolucao.texto.equals('')}">
                                            <h:selectOneMenu id="estagioDeEvolucao1" 
                                                             disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}" 
                                                             class="form-control campoInvalido" 
                                                             value="#{revisarPlanoDeNegocioBean.estagioEvolucao}" 
                                                             onchange="precisaSalvar = true;">
                                                <f:selectItem itemValue="Ideia Básica" itemLabel="Ideia Básica"/>
                                                <f:selectItem itemValue="Projeto Básico" itemLabel="Projeto Básico"/>
                                                <f:selectItem itemValue="Projeto Detalhado" itemLabel="Projeto Detalhado"/>
                                                <f:selectItem itemValue="Protótipo Desenvolvido" itemLabel="Protótipo Desenvolvido"/>
                                                <f:selectItem itemValue="Em teste no mercado" itemLabel="Em teste no mercado"/>
                                                <f:selectItem itemValue="Clientes Pagando" itemLabel="Clientes Pagando"/>
                                                <f:selectItem itemValue="Outro" itemLabel="Outro" />
                                                <f:ajax execute="@form" 
                                                        render="formulario_resubmeterplano:estagioDeEvolucao1 formulario_resubmeterplano:mensagemSalvamento formulario_resubmeterplano:campoOutro1" 
                                                        event="change" onevent="funcaoAjaxSalvo"
                                                        listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                            </h:selectOneMenu>
                                            <div>
                                                <h:panelGroup id="campoOutro1" layout="block">
                                                    <p:inputText class="form-control semResize" 
                                                             placeholder="Digite aqui o estágio de evolução de seu Negócio"
                                                             value="#{revisarPlanoDeNegocioBean.estagioEvolucaoOutro}" 
                                                             rendered="#{revisarPlanoDeNegocioBean.exibeCampoOutro()}">
                                                        <f:ajax execute="@form" 
                                                            render="formulario_resubmeterplano:campoOutro1 formulario_resubmeterplano:mensagemSalvamento" 
                                                            event="change" onevent="funcaoAjaxSalvo"
                                                            listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                                    </p:inputText>
                                                </h:panelGroup>
                                            </div>
                                        </h:panelGroup>
                                        <h:panelGroup class="checkbox" id="abc"
                                                      rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.estagioEvolucao.texto || revisarPlanoDeNegocioBean.comentarioProjeto.estagioEvolucao.texto.equals('')}">
                                            <h:selectOneMenu id="estagioDeEvolucao2" 
                                                             disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}" 
                                                             class="form-control" 
                                                             value="#{revisarPlanoDeNegocioBean.estagioEvolucao}" 
                                                             onchange="precisaSalvar = true;">
                                                <f:selectItem itemValue="Ideia Básica" itemLabel="Ideia Básica"/>
                                                <f:selectItem itemValue="Projeto Básico" itemLabel="Projeto Básico"/>
                                                <f:selectItem itemValue="Projeto Detalhado" itemLabel="Projeto Detalhado"/>
                                                <f:selectItem itemValue="Protótipo Desenvolvido" itemLabel="Protótipo Desenvolvido"/>
                                                <f:selectItem itemValue="Em teste no mercado" itemLabel="Em teste no mercado"/>
                                                <f:selectItem itemValue="Clientes Pagando" itemLabel="Clientes Pagando"/>
                                                <f:selectItem itemValue="Outro" itemLabel="Outro" />
                                                <f:ajax execute="@form" render="formulario_resubmeterplano:estagioDeEvolucao1
                                                        formulario_resubmeterplano:campoOutro2 formulario_resubmeterplano:mensagemSalvamento" 
                                                        event="change" onevent="funcaoAjaxSalvo"
                                                        listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                            </h:selectOneMenu>
                                            <div>
                                                <h:panelGroup id="campoOutro2" layout="block">
                                                    <p:inputText class="form-control semResize" 
                                                             placeholder="Digite aqui o estágio de evolução de seu Negócio"
                                                             value="#{revisarPlanoDeNegocioBean.estagioEvolucaoOutro}" 
                                                             rendered="#{revisarPlanoDeNegocioBean.exibeCampoOutro()}">
                                                        <f:ajax execute="@form" render="formulario_resubmeterplano:campoOutro2 formulario_resubmeterplano:mensagemSalvamento" event="change" listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                                    </p:inputText>
                                                </h:panelGroup>
                                            </div>
                                        </h:panelGroup>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.estagioEvolucao.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.estagioEvolucao.texto.equals('')}"
                                                             id="comentarioEstagioEvolucao" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:estagioEvolucao3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="estagioEvolucao3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.estagioEvolucao.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="descricaoOutroEstagio"/>

                                        <br/>
                                    </div>
                                    <div class="col-md-12 espaco">
                                        <b>Tecnologia e processos (não poluentes)* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('tecnologiaProcessos')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroTecnologia" class="mensagemErro" for="tecnologiaProcessos1"/><br/>
                                        Como nosso projeto está alinhado com a preservação de recursos naturais, sustentabilidade e possui valores nesse sentido?
                                        <h:inputTextarea class="form-control campoInvalido semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.produtoouservico.tecnologiaProcessos}"
                                                         id="tecnologiaProcessos1"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.tecnologiaProcessos.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.tecnologiaProcessos.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.produtoouservico.tecnologiaProcessos}"
                                                         id="tecnologiaProcessos2"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.tecnologiaProcessos.texto || revisarPlanoDeNegocioBean.comentarioProjeto.tecnologiaProcessos.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.tecnologiaProcessos.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.tecnologiaProcessos.texto.equals('')}"
                                                             id="comentarioTecnologiaProcessos" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:tecnologiaProcessos3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="tecnologiaProcessos3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.tecnologiaProcessos.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="tecnologiaProcessos"/>

                                        <br/>
                                    </div>
                                    <div class="col-md-12 espaco">
                                        <b>Potencial de inovação tecnológica* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('potencialInovacaoTecnologica')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroInovacao" class="mensagemErro" for="potencialInovacaoTecnologica1"/><br/>
                                        Qual a capacidade de gerar produtos ou serviços inovadores, que agreguem o uso de novas tecnologias?
                                        <h:inputTextarea class="form-control campoInvalido semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.produtoouservico.potencialInovacaoTecnologica}"
                                                         id="potencialInovacaoTecnologica1"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.potencialInovacaoTecnologica.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.potencialInovacaoTecnologica.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.produtoouservico.potencialInovacaoTecnologica}"
                                                         id="potencialInovacaoTecnologica2"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.potencialInovacaoTecnologica.texto || revisarPlanoDeNegocioBean.comentarioProjeto.potencialInovacaoTecnologica.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.potencialInovacaoTecnologica.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.potencialInovacaoTecnologica.texto.equals('')}"
                                                             id="comentarioPotencialInovacao" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:potencialInovacaoTecnologica3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="potencialInovacaoTecnologica3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.potencialInovacaoTecnologica.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="potencialInovacaoTecnologica"/>

                                        <br/>
                                    </div>
                                    <div class="col-md-12 espaco">
                                        <b>Aplicações* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('aplicacoes')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroAplicacoes" class="mensagemErro" for="aplicacoes1"/><br/>
                                        A quem se aplica? como? de que maneira?
                                        <h:inputTextarea class="form-control campoInvalido semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.produtoouservico.aplicacoes}"
                                                         id="aplicacoes1"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.aplicacoes.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.aplicacoes.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.produtoouservico.aplicacoes}"
                                                         id="aplicacoes2"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.aplicacoes.texto || revisarPlanoDeNegocioBean.comentarioProjeto.aplicacoes.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.aplicacoes.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.aplicacoes.texto.equals('')}"
                                                             id="comentarioAplicacoes" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:aplicacoes3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="aplicacoes3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.aplicacoes.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="aplicacoes"/>

                                        <br/>
                                    </div>
                                    <div class="col-md-12 espaco">
                                        <b>Dificuldades esperadas* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('dificuldadesEsperadas')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroDificuldades" class="mensagemErro" for="dificuldadesEsperadas1"/><br/>
                                        Quais são nossas principais limitações?
                                        <h:inputTextarea class="form-control campoInvalido semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.produtoouservico.dificuldadesEsperadas}"
                                                         id="dificuldadesEsperadas1"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.dificuldadesEsperadas.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.dificuldadesEsperadas.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>

                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control semResize" onchange="precisaSalvar = true;"  rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.produtoouservico.dificuldadesEsperadas}"
                                                         id="dificuldadesEsperadas2"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.dificuldadesEsperadas.texto || revisarPlanoDeNegocioBean.comentarioProjeto.dificuldadesEsperadas.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.dificuldadesEsperadas.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.dificuldadesEsperadas.texto.equals('')}"
                                                             id="comentarioDificuldadesEsperadas" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:dificuldadesEsperadas3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="dificuldadesEsperadas3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.dificuldadesEsperadas.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="dificuldadesEsperadas"/>

                                        <br/>
                                    </div>
                                    <div class="col-md-12 espaco">
                                        <b>Interação entre empresa e Universidade* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('interacaoEmpresaUniversidade')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroInteracao" class="mensagemErro" for="interacaoEmpresaUniversidade1"/><br/>
                                        Em que sentido seremos parceiros da Universidade? 
                                        <h:inputTextarea class="form-control campoInvalido semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.produtoouservico.interacaoEmpresaUniversidade}"
                                                         id="interacaoEmpresaUniversidade1"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaUniversidade.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaUniversidade.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.produtoouservico.interacaoEmpresaUniversidade}"
                                                         id="interacaoEmpresaUniversidade2"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaUniversidade.texto || revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaUniversidade.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaUniversidade.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaUniversidade.texto.equals('')}"
                                                             id="comentarioInteracaoEmpresaUniversidade" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:interacaoEmpresaUniversidade3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="interacaoEmpresaUniversidade3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaUniversidade.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="interacaoEmpresaUniversidade"/>

                                        <br/>
                                    </div>
                                    <div class="col-md-12 espaco">
                                        <b>Interação entre empresa, comunidade e governo* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('interacaoEmpresaComunidadeGoverno')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroInteracaoEmpresa" class="mensagemErro" for="interacaoEmpresaComunidadeGoverno1"/><br/>
                                        Qual será nossa importância para o meio em que estamos inseridos? Teremos relação com todos os envolvidos?
                                        <h:inputTextarea class="form-control campoInvalido semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.produtoouservico.interacaoEmpresaComunidadeGoverno}"
                                                         id="interacaoEmpresaComunidadeGoverno1"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaComunidadeGoverno.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaComunidadeGoverno.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.produtoouservico.interacaoEmpresaComunidadeGoverno}"
                                                         id="interacaoEmpresaComunidadeGoverno2"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaComunidadeGoverno.texto || revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaComunidadeGoverno.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaComunidadeGoverno.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaComunidadeGoverno.texto.equals('')}"
                                                             id="comentarioInteracaoEmpresaComunidadeGoverno" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:interacaoEmpresaComunidadeGoverno3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="interacaoEmpresaComunidadeGoverno3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaComunidadeGoverno.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="interacaoEmpresaComunidadeGoverno"/>

                                        <br/>
                                    </div>
                                    <div class="col-md-12 espaco">
                                        <b>Infra-estrutura necessária para o desenvolvimento e produção* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('infraestrutura')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroInfraestrutura" class="mensagemErro" for="infraestrutura1"/><br/>
                                        Quanto de espaço será necessário? Mobiliário? Equipamentos?
                                        <h:inputTextarea class="form-control campoInvalido semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.produtoouservico.infraestrutura}"
                                                         id="infraestrutura1"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaComunidadeGoverno.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaComunidadeGoverno.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.produtoouservico.infraestrutura}"
                                                         id="infraestrutura2"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaComunidadeGoverno.texto || revisarPlanoDeNegocioBean.comentarioProjeto.interacaoEmpresaComunidadeGoverno.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde"
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.infraestrutura.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.infraestrutura.texto.equals('')}"
                                                             id="comentarioInteracaoInfraInstrutura" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:infraestrutura3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="infraestrutura3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.infraestrutura.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="infraestrutura"/>

                                        <br/>
                                    </div>


                                    <div class="col-md-4"></div>
                                    <div class="col-md-4" align="center">
                                        <p:commandButton id="botaoSalvar4" 
                                                         class="botaoBase botaoVerde" 
                                                         type="button" 
                                                         title="Salvar a revisão do projeto." 
                                                         value="Salvar Revisão"
                                                         icon="fa fa-save">
                                            <p:ajax event="click"
                                                    update="formulario_resubmeterplano:mensagemSalvamento" 
                                                    onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>                                         
                                        </p:commandButton>
                                        <h:message for="botaoSalvar4"></h:message>
                                    </div>
                                    <div class="col-md-4"></div>
                                </div>

                            </div>

                            <!-- Fim da quarta parte do formulário -->

                            <!-- Ínicio da QUINTA PARTE do formulário para Envio de Projeto Referente a GESTÃO DE PESSOAS -->

                            <div class="tab-pane fade" id="formParte05">
                                <div id="formularioParte05">

                                    <h:panelGroup layout="block" class="template-mensagens template-mensagens-danger" rendered="#{revisarPlanoDeNegocioBean.verificaStatusNecessitaMelhoria(projetoSelecionado)}">
                                        <h4>Atençao!</h4>
                                        <p>Campos com bordas em <label style="color: red">vermelho</label> apresentam comentários do Gerente de Relacionamento e <b>devem</b> ser seguidas essas orientações, clique no botão "Comentário do Avaliador" para visualizá-lo.</p>
                                    </h:panelGroup>
                                    <h:panelGroup layout="block" class="template-mensagens template-mensagens-aviso" rendered="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}">
                                        <h4>Aviso</h4>
                                        <p>Campos com bordas em <label style="color: red">vermelho</label> apresentam comentários (sugestões ou observações) do Gerente de Relacionamento, clique no botão "Comentário do Avaliador" para visualizá-lo.</p>
                                    </h:panelGroup>

                                    <div class="col-md-12 espaco">
                                        <b>Descrição da participação acionária* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('participacaoAcionaria')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroDescricao" class="mensagemErro" for="participacaoAcionaria1"/><br/>
                                        Haverão sócios? Quanto de participação terão?
                                        <h:inputTextarea class="form-control campoInvalido semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.participacaoacionaria}" 
                                                         id="participacaoAcionaria1"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.participacaoAcionaria.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.participacaoAcionaria.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.participacaoacionaria}" 
                                                         id="participacaoAcionaria2"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.participacaoAcionaria.texto || revisarPlanoDeNegocioBean.comentarioProjeto.participacaoAcionaria.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde"
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.participacaoAcionaria.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.participacaoAcionaria.texto.equals('')}"
                                                             id="comentarioParticipacaoAcionaria" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:participacaoAcionaria3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="participacaoAcionaria3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.participacaoAcionaria.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="participacaoAcionaria"/>
                                        <br/>
                                    </div>
                                    <div class="col-md-12 espaco">
                                        <b>Potencial de geração de emprego e renda* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('potencialEmprego')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroPotencial" class="mensagemErro" for="potencialEmprego1"/><br/>
                                        Quantos empregos diretos e indiretos serão criados? Qual estimativa de renda total gerada?
                                        <h:inputTextarea class="form-control campoInvalido semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.potencialEmprego}"
                                                         id="potencialEmprego1"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.potencialEmprego.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.potencialEmprego.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control semResize" onchange="precisaSalvar = true;" rows="5"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.potencialEmprego}"
                                                         id="potencialEmprego2"
                                                         requiredMessage="Insira as atividades chave antes de enviar"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.potencialEmprego.texto || revisarPlanoDeNegocioBean.comentarioProjeto.potencialEmprego.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.potencialEmprego.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.potencialEmprego.texto.equals('')}"
                                                             id="comentarioPotencialEmpregoRenda" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:potencialEmprego3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="potencialEmprego3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.potencialEmprego.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="potencialEmprego"/>
                                        <br/>
                                    </div>


                                    <div class="col-md-4"></div>
                                    <div class="col-md-4 text-center">
                                        <p:commandButton id="botaoSalvar5" 
                                                         class="botaoBase botaoVerde" 
                                                         type="button" 
                                                         title="Salvar a revisão do projeto." 
                                                         value="Salvar Revisão"
                                                         icon="fa fa-save">
                                            <p:ajax event="click"
                                                    update="formulario_resubmeterplano:mensagemSalvamento" 
                                                    onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>                                         
                                        </p:commandButton>
                                        <h:message for="botaoSalvar5"></h:message>
                                    </div>
                                    <div class="col-md-4"></div>

                                </div>

                            </div>

                            <!-- Fim da quinta parte do formulário -->

                            <!-- Ínicio da SEXTA PARTE do formulário para Envio de Projeto Referente ao PLANO FINANCEIRO -->

                            <div class="tab-pane fade" id="formParte06">
                                <div id="formularioParte06">

                                    <h:panelGroup layout="block" class="template-mensagens template-mensagens-danger" rendered="#{revisarPlanoDeNegocioBean.verificaStatusNecessitaMelhoria(projetoSelecionado)}">
                                        <h4>Atençao!</h4>
                                        <p>Campos com bordas em <label style="color: red">vermelho</label> apresentam comentários do Gerente de Relacionamento e <b>devem</b> ser seguidas essas orientações, clique no botão "Comentário do Avaliador" para visualizá-lo.</p>
                                    </h:panelGroup>
                                    <h:panelGroup layout="block" class="template-mensagens template-mensagens-aviso" rendered="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}">
                                        <h4>Aviso</h4>
                                        <p>Campos com bordas em <label style="color: red">vermelho</label> apresentam comentários (sugestões ou observações) do Gerente de Relacionamento, clique no botão "Comentário do Avaliador" para visualizá-lo.</p>
                                    </h:panelGroup>

                                    <div class="col-md-12 espaco">
                                        <b>Fontes de receita* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('fontesDeReceita')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroFontes" class="mensagemErro" for="fontesDeReceita1"/><br/>
                                        Por que valor estão dispostos a pagar nossos clientes? Por que pagam atualmente? Como pagam atualmente?
                                        <h:inputTextarea id="fontesDeReceita1" 
                                                         class="form-control campoInvalido semResize" rows="5"
                                                         onchange="precisaSalvar = true;"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira as fontes de receita antes de enviar" 
                                                         value="#{revisarPlanoDeNegocioBean.projeto.planofinanceiro.fontesReceita}"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.fontesReceita.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.fontesReceita.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea id="fontesDeReceita2" 
                                                         class="form-control semResize" rows="5"
                                                         onchange="precisaSalvar = true;"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira as fontes de receita antes de enviar" 
                                                         value="#{revisarPlanoDeNegocioBean.projeto.planofinanceiro.fontesReceita}"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.fontesReceita.texto || revisarPlanoDeNegocioBean.comentarioProjeto.fontesReceita.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.fontesReceita.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.fontesReceita.texto.equals('')}"
                                                             id="comentarioFontesReceita" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:fontesDeReceita3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="fontesDeReceita3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.fontesReceita.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="fontesDeReceita"/>
                                        <br/>
                                    </div>
                                    <div class="col-md-12 espaco">
                                        <b>Estrutura de custos* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#/{ajudaview.showMessage('estruturaCustos')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroEstruturaCustos" class="mensagemErro" for="estruturaCustos1"/><br/>
                                        Quais são os custos mais importantes inerentes ao nosso modelo de negócio? Quais são os recursos chave mais caros? Quais são as atividades chave mais caras?
                                        <h:inputTextarea id="estruturaCustos1" 
                                                         class="form-control campoInvalido semResize" rows="5"
                                                         onchange="precisaSalvar = true;"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira a estrutura de custos antes de enviar" 
                                                         value="#{revisarPlanoDeNegocioBean.projeto.planofinanceiro.estruturaCusto}"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.estruturaCusto.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.estruturaCusto.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea id="estruturaCustos2" 
                                                         class="form-control semResize" rows="5"
                                                         onchange="precisaSalvar = true;"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         requiredMessage="Insira a estrutura de custos antes de enviar" 
                                                         value="#{revisarPlanoDeNegocioBean.projeto.planofinanceiro.estruturaCusto}"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.estruturaCusto.texto || revisarPlanoDeNegocioBean.comentarioProjeto.estruturaCusto.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.estruturaCusto.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.estruturaCusto.texto.equals('')}"
                                                             id="comentarioEstruturaCusto" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:estruturaCustos3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;"
                                                             cols="50" rows="5" 
                                                             disabled="true" id="estruturaCustos3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.estruturaCusto.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="estruturaCustos"/>
                                        <br/>
                                    </div>
                                    <div class="col-md-12 espaco">
                                        <b>Investimento inicial* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#/{ajudaview.showMessage('investimentoInicial')}"></p:commandLink></b><br/>
                                        <h:message id="mensagemErroInvestimentoInicial" class="mensagemErro" for="investimentoInicial1"/><br/>
                                        Quanto de recurso será necessário para iniciar?
                                        <h:inputTextarea class="form-control campoInvalido semResize" rows="5"
                                                         onchange="precisaSalvar = true;"
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.planofinanceiro.investimentoInicial}"
                                                         id="investimentoInicial1"
                                                         rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.investimentoInicial.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.investimentoInicial.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <h:inputTextarea class="form-control semResize" rows="5"
                                                         onchange="precisaSalvar = true;" 
                                                         disabled="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                         value="#{revisarPlanoDeNegocioBean.projeto.planofinanceiro.investimentoInicial}"
                                                         id="investimentoInicial2"
                                                         rendered="#{empty revisarPlanoDeNegocioBean.comentarioProjeto.investimentoInicial.texto || revisarPlanoDeNegocioBean.comentarioProjeto.investimentoInicial.texto.equals('')}"
                                                         >
                                            <f:ajax execute="@form" 
                                                    render="formulario_resubmeterplano:mensagemSalvamento" 
                                                    event="change" onevent="funcaoAjaxSalvo"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>
                                        </h:inputTextarea>
                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{not empty revisarPlanoDeNegocioBean.comentarioProjeto.investimentoInicial.texto and !revisarPlanoDeNegocioBean.comentarioProjeto.investimentoInicial.texto.equals('')}"
                                                             id="comentarioInvestimentoInicial" type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:investimentoInicial3')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre o campo acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" style="resize: none;" 
                                                             cols="50" rows="5" 
                                                             disabled="true" id="investimentoInicial3" 
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.investimentoInicial.texto}">
                                            </p:inputTextarea>
                                        </div>
                                        <h:message class="mensagemErro" for="investimentoInicial"/>
                                        <br/>
                                    </div>

                                    <h:panelGroup id="panelCustoFixo" class="col-md-12">
                                        <b>Custos fixos* <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('custosfixos')}"></p:commandLink></b><br/>
                                        Salários, Aluguel...
                                        <p:dataTable id="revisar_custoFixo1" 
                                                     var="custo1" 
                                                     class="campoInvalido"
                                                     rowKey="#{custo1.idCusto}" 
                                                     value="#{revisarPlanoDeNegocioBean.projeto.planofinanceiro.retornaListaCustosFixos()}"
                                                     rendered="#{(not empty revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto) 
                                                                 and (!revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto.equals(''))}"
                                                     editable="true"
                                                     >

                                            <p:ajax event="rowEdit" listener="#{revisarPlanoDeNegocioBean.onRowEdit}" onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                    update="formulario_resubmeterplano:mensagemSalvamento" />

                                            <p:ajax event="rowEditCancel" listener="#{revisarPlanoDeNegocioBean.onRowCancel}" onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                    update="formulario_resubmeterplano:mensagemSalvamento" />

                                            <p:column headerText="Descrição ">
                                                <p:cellEditor>
                                                    <f:facet name="output">
                                                        <p:outputLabel value="#{custo1.descricao}"></p:outputLabel>
                                                    </f:facet>
                                                    <f:facet name="input">
                                                        <p:inputText value="#{custo1.descricao}" style="width:96%"/>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </p:column>

                                            <p:column headerText="Valor Médio Mensal">
                                                <p:cellEditor>
                                                    <f:facet name="output">
                                                        <p:outputLabel value="R$ #{custo1.total}" />
                                                    </f:facet>
                                                    <f:facet name="input">
                                                        <p:inputText value="#{custo1.total}" 
                                                                     converterMessage="Digite um número válido utilizando pontos, ex: 8.7" 
                                                                     onkeypress="return SomenteNumero(event);" 
                                                                     style="width:96%">
                                                            <p:ajax event="change" 
                                                                    listener="#{revisarPlanoDeNegocioBean.caucularProjecaoCustoFixo(custo1)}" onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                                    update="formulario_resubmeterplano:colunaValorTotalFixo1 formulario_resubmeterplano:mensagemSalvamento">
                                                            </p:ajax>
                                                        </p:inputText>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </p:column>

                                            <p:column headerText="Projeção em 6 Meses">
                                                <p:outputLabel  rendered="#{not empty custo1.projecao}" 
                                                                value="R$ #{custo1.projecao}">
                                                </p:outputLabel>
                                            </p:column>

                                            <p:column width="8%" headerText="Opções">
                                                <p:rowEditor />
                                                <p:commandLink title="Excluir esse Custo" 
                                                               rendered="#{custo1.podeExcluir}"
                                                               >
                                                    <i class="fa fa-trash"></i>
                                                    <p:ajax listener="#{revisarPlanoDeNegocioBean.deletarLinha(custo1)}" onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                            update="formulario_resubmeterplano:panelCustoFixo formulario_resubmeterplano:colunaValorTotalFixo1 formulario_resubmeterplano:mensagemSalvamento">
                                                    </p:ajax>
                                                </p:commandLink>      
                                            </p:column>                                        
                                        </p:dataTable>

                                        <p:dataTable id="revisar_custoFixo2" 
                                                     var="custo2"
                                                     rowKey="#{custo.idCusto}" 
                                                     value="#{revisarPlanoDeNegocioBean.projeto.planofinanceiro.retornaListaCustosFixos()}"
                                                     rendered="#{(empty revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto) 
                                                                 || (revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto.equals(''))}"
                                                     editable="true"
                                                     >
                                            <p:ajax event="rowEdit" listener="#{revisarPlanoDeNegocioBean.onRowEdit}" onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                    update="formulario_resubmeterplano:mensagemSalvamento" />

                                            <p:ajax event="rowEditCancel" listener="#{revisarPlanoDeNegocioBean.onRowCancel}" onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                    update="formulario_resubmeterplano:mensagemSalvamento" />

                                            <p:column headerText="Descrição ">
                                                <p:cellEditor>
                                                    <f:facet name="output">
                                                        <p:outputLabel value="#{custo2.descricao}"></p:outputLabel>
                                                    </f:facet>
                                                    <f:facet name="input">
                                                        <p:inputText value="#{custo2.descricao}" style="width:96%"/>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </p:column>

                                            <p:column headerText="Valor Médio Mensal">
                                                <p:cellEditor>
                                                    <f:facet name="output">
                                                        <h:outputText value="R$ #{custo2.total}" />
                                                    </f:facet>
                                                    <f:facet name="input">
                                                        <p:inputText value="#{custo2.total}" 
                                                                     converterMessage="Digite um número válido utilizando pontos, ex: 8.7" 
                                                                     onkeypress="return SomenteNumero(event);" 
                                                                     style="width:96%">
                                                            <p:ajax event="change" 
                                                                    listener="#{revisarPlanoDeNegocioBean.caucularProjecaoCustoFixo(custo2)}" onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                                    update="formulario_resubmeterplano:colunaValorTotalFixo2 formulario_resubmeterplano:mensagemSalvamento">
                                                            </p:ajax>
                                                        </p:inputText>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </p:column>

                                            <p:column headerText="Projeção em 6 Meses">
                                                <p:outputLabel value="R$ #{custo2.projecao}"/>
                                            </p:column>

                                            <p:column width="8%" headerText="Opções">
                                                <p:rowEditor />
                                                <p:commandLink title="Excluir esse Custo" 
                                                               rendered="#{custo2.isPodeExcluir()}"
                                                               >
                                                    <i class="fa fa-trash"></i>
                                                    <p:ajax listener="#{revisarPlanoDeNegocioBean.deletarLinha(custo2)}" onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                            update="formulario_resubmeterplano:panelCustoFixo formulario_resubmeterplano:colunaValorTotalFixo2 formulario_resubmeterplano:mensagemSalvamento">
                                                    </p:ajax>
                                                </p:commandLink>    
                                            </p:column>                                        

                                        </p:dataTable>
                                        <br/> 
                                        <div class="col-md-6">
                                            <p:commandButton id="botao_adicionar_nova_linha1" 
                                                             class="botaoBase botaoPreto" 
                                                             value="Adicionar Linha"
                                                             icon="fa fa-plus"
                                                             rendered="#{(not empty revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto) 
                                                                         and (!revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto.equals(''))}"
                                                             title="Adicionar nova linha de custo fixo" 
                                                             >
                                                <p:ajax listener="#{revisarPlanoDeNegocioBean.adicionarLinhaFixo()}" onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                        update="formulario_resubmeterplano:revisar_custoFixo1 formulario_resubmeterplano:mensagemSalvamento">
                                                </p:ajax>                                
                                            </p:commandButton>

                                            <p:commandButton id="botao_adicionar_nova_linha2" 
                                                             class="botaoBase botaoPreto"
                                                             rendered="#{(empty revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto) 
                                                                         || (revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto.equals(''))}"
                                                             value="Adicionar Linha"
                                                             icon="fa fa-plus"
                                                             >
                                                <p:ajax update="formulario_resubmeterplano:revisar_custoFixo2 formulario_resubmeterplano:mensagemSalvamento"
                                                        onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                        listener="#{revisarPlanoDeNegocioBean.adicionarLinhaFixo()}"
                                                        >
                                                </p:ajax>                               
                                            </p:commandButton>
                                        </div>

                                        <div class="col-md-6 text-center" align="center" >
                                            <p:dataTable id="colunaValorTotalFixo1" 
                                                         rendered="#{(not empty revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto) 
                                                                     and (!revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto.equals(''))}"
                                                         editable="false" 
                                                         var="custoProjTotal1" 
                                                         emptyMessage="Nenhum registro encontrado." 
                                                         value="#{revisarPlanoDeNegocioBean.calcularValorColunaCustoFixo()}"
                                                         >
                                                <p:column headerText="Projeção total de custos fixos (6 meses)">
                                                    <p:outputLabel  value="R$ #{custoProjTotal1}"></p:outputLabel>
                                                </p:column>
                                            </p:dataTable>

                                            <p:dataTable id="colunaValorTotalFixo2" 
                                                         rendered="#{(empty revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto) 
                                                                     || (revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto.equals(''))}"
                                                         editable="false" 
                                                         var="custoProjTotal2" 
                                                         emptyMessage="Nenhum registro encontrado." 
                                                         value="#{revisarPlanoDeNegocioBean.calcularValorColunaCustoFixo()}"
                                                         >
                                                <p:column headerText="Projeção total de custos fixos (6 meses)">
                                                    <p:outputLabel  value="R$ #{custoProjTotal2}"></p:outputLabel>
                                                </p:column>
                                            </p:dataTable>
                                        </div>                                    

                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{(not empty revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto)
                                                                         and (!revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto.equals(''))}"
                                                             id="comentarioCustoFixo" 
                                                             type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:comentarioCustoFixo2')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre a tabela acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">
                                            <p:inputTextarea class="campoFeedBack"
                                                             id="comentarioCustoFixo2"
                                                             style="resize: none;"
                                                             cols="50"
                                                             rows="2"
                                                             disabled="true"
                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.custoFixo.texto}"
                                                             >
                                            </p:inputTextarea>
                                        </div>

                                        <br/>
                                        <br/>
                                        <br/>
                                        <br/>
                                        <br/>
                                    </h:panelGroup>

                                    <!-- =========================================================================================================================== -->
                                    <!-- =========================================================================================================================== -->                                 

                                    <h:panelGroup id="panelCustoVariavel" class="col-md-12">
                                        <br/>
                                        <b>Custos variáveis* </b>
                                        <br/>
                                        Impostos, combustível, matéria-prima, comissão para vendedor... 
                                        <!--   <f:ajax execute="@form" event="change" listener="#/{projetoBean.salvarProjeto()}"/>-->
                                        <br/>

                                        <p:dataTable id="tabelaCustosVariaveis1" class="campoInvalido"
                                                     rendered="#{(not empty revisarPlanoDeNegocioBean.comentarioProjeto.custoVariavel.texto) 
                                                                 and (!revisarPlanoDeNegocioBean.comentarioProjeto.custoVariavel.texto.equals(''))}"
                                                     var="custovariavel1" 
                                                     editable="true" 
                                                     sortBy="#{custovariavel1.descricao}" 
                                                     emptyMessage="Nenhum registro encontrado." 
                                                     value="#{revisarPlanoDeNegocioBean.projeto.planofinanceiro.retornaListaCustosVariaveis()}"
                                                     >

                                            <p:ajax event="rowEdit" listener="#{revisarPlanoDeNegocioBean.onRowEdit}" onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                    update="formulario_resubmeterplano:mensagemSalvamento" />

                                            <p:ajax event="rowEditCancel" listener="#{revisarPlanoDeNegocioBean.onRowCancel}" onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                    update="formulario_resubmeterplano:mensagemSalvamento" />

                                            <p:column headerText="Nome">
                                                <p:cellEditor>
                                                    <f:facet name="output">
                                                        <p:outputLabel value="#{custovariavel1.descricao}">
                                                        </p:outputLabel>
                                                    </f:facet>

                                                    <f:facet name="input">
                                                        <p:inputText value="#{custovariavel1.descricao}" 
                                                                     style="width:96%"/>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText="Valor">
                                                <p:cellEditor>
                                                    <f:facet name="output">
                                                        <p:outputLabel value="R$ #{custovariavel1.total}">
                                                        </p:outputLabel>
                                                    </f:facet>
                                                    <f:facet name="input">
                                                        <p:inputText value="#{custovariavel1.total}" 
                                                                     converterMessage="Digite um número válido utilizando pontos, ex: 8.7" 
                                                                     onkeypress="return SomenteNumero(event);" 
                                                                     style="width:96%">
                                                            <p:ajax event="change" 
                                                                    update="formulario_resubmeterplano:colunaValorTotalVariavel" 
                                                                    listener="#{revisarPlanoDeNegocioBean.caucularProjecaoCustoVariavel(custovariavel1)}"/>
                                                        </p:inputText>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </p:column>

                                            <p:column headerText="Projeção (6 meses)">
                                                <p:outputLabel value="R$ #{custovariavel1.projecao}">
                                                </p:outputLabel>
                                            </p:column>

                                            <p:column width="8%" headerText="Opções">
                                                <p:rowEditor />
                                                <h:commandLink title="Excluir o Custo">
                                                    <i class="fa fa-trash"></i>
                                                    <p:ajax listener="#{revisarPlanoDeNegocioBean.deletarLinha(custovariavel1)}"
                                                            onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                            update="formulario_resubmeterplano:panelCustoVariavel formulario_resubmeterplano:colunaValorTotalVariavel formulario_resubmeterplano:mensagemSalvamento">
                                                    </p:ajax>
                                                </h:commandLink> 
                                            </p:column>

                                        </p:dataTable>
                                        <br/>

                                        <p:dataTable id="tabelaCustosVariaveis2"
                                                     rendered="#{(empty revisarPlanoDeNegocioBean.comentarioProjeto.custoVariavel.texto) 
                                                                 and (revisarPlanoDeNegocioBean.comentarioProjeto.custoVariavel.texto.equals(''))}"
                                                     var="custovariavel2" 
                                                     editable="true" 
                                                     sortBy="#{custovariavel2.descricao}" 
                                                     emptyMessage="Nenhum registro encontrado." 
                                                     value="#{revisarPlanoDeNegocioBean.projeto.planofinanceiro.retornaListaCustosVariaveis()}"
                                                     >

                                            <p:ajax event="rowEdit" listener="#{revisarPlanoDeNegocioBean.onRowEdit}" onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                    update="formulario_resubmeterplano:mensagemSalvamento" />

                                            <p:ajax event="rowEditCancel" listener="#{revisarPlanoDeNegocioBean.onRowCancel}" onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                    update="formulario_resubmeterplano:mensagemSalvamento" />

                                            <p:column headerText="Nome">
                                                <p:cellEditor>
                                                    <f:facet name="output">
                                                        <p:outputLabel value="#{custovariavel2.descricao}">
                                                        </p:outputLabel>
                                                    </f:facet>

                                                    <f:facet name="input">
                                                        <p:inputText value="#{custovariavel2.descricao}" 
                                                                     style="width:96%"/>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText="Valor">
                                                <p:cellEditor>
                                                    <f:facet name="output">
                                                        <p:outputLabel value="R$ #{custovariavel2.total}">
                                                        </p:outputLabel>
                                                    </f:facet>
                                                    <f:facet name="input">
                                                        <p:inputText value="#{custovariavel2.total}" 
                                                                     converterMessage="Digite um número válido utilizando pontos, ex: 8.7" 
                                                                     onkeypress="return SomenteNumero(event);" 
                                                                     style="width:96%">
                                                            <p:ajax event="change" 
                                                                    update="formulario_resubmeterplano:colunaValorTotalVariavel" 
                                                                    listener="#{revisarPlanoDeNegocioBean.caucularProjecaoCustoVariavel(custovariavel2)}"/>
                                                        </p:inputText>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </p:column>

                                            <p:column headerText="Projeção (6 meses)">
                                                <p:outputLabel value="R$ #{custovariavel2.projecao}">
                                                </p:outputLabel>
                                            </p:column>

                                            <p:column width="8%" headerText="Opções">
                                                <p:rowEditor />
                                                <h:commandLink title="Excluir o Custo">
                                                    <i class="fa fa-trash"></i>
                                                    <p:ajax listener="#{revisarPlanoDeNegocioBean.deletarLinha(custovariavel2)}" onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                            update="formulario_resubmeterplano:panelCustoVariavel formulario_resubmeterplano:colunaValorTotalVariavel formulario_resubmeterplano:mensagemSalvamento">
                                                    </p:ajax>
                                                </h:commandLink> 
                                            </p:column>

                                        </p:dataTable>
                                        <br/>

                                        <div class="col-md-6">
                                            <p:commandButton id="adicionar_nova_linhaVariavel1"
                                                             rendered="#{(not empty revisarPlanoDeNegocioBean.comentarioProjeto.custoVariavel.texto) 
                                                                         and (!revisarPlanoDeNegocioBean.comentarioProjeto.custoVariavel.texto.equals(''))}"
                                                             title="Adicionar nova linha de custo variável" 
                                                             class="botaoBase botaoPreto" 
                                                             value="Adicionar Linha" 
                                                             icon="fa fa-plus"
                                                             >
                                                <p:ajax update="formulario_resubmeterplano:tabelaCustosVariaveis1 formulario_resubmeterplano:mensagemSalvamento"
                                                        onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                        listener="#{revisarPlanoDeNegocioBean.adicionarLinhaVariavel()}" 
                                                        >
                                                </p:ajax>                                
                                            </p:commandButton>

                                            <p:commandButton id="adicionar_nova_linhaVariavel2"
                                                             rendered="#{(empty revisarPlanoDeNegocioBean.comentarioProjeto.custoVariavel.texto) 
                                                                         and (revisarPlanoDeNegocioBean.comentarioProjeto.custoVariavel.texto.equals(''))}"
                                                             title="Adicionar nova linha de custo variável" 
                                                             class="botaoBase botaoPreto" 
                                                             value="Adicionar Linha" 
                                                             icon="fa fa-plus"
                                                             >
                                                <p:ajax update="formulario_resubmeterplano:tabelaCustosVariaveis2 formulario_resubmeterplano:mensagemSalvamento"
                                                        onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                        listener="#{revisarPlanoDeNegocioBean.adicionarLinhaVariavel()}" 
                                                        >
                                                </p:ajax>                                
                                            </p:commandButton>                                            
                                        </div>

                                        <div class="col-md-6 text-center" align="center" >
                                            <p:dataTable id="colunaValorTotalVariavel" 
                                                         editable="false" 
                                                         var="custoVariavelTotal"  
                                                         value="#{revisarPlanoDeNegocioBean.calcularValorColunaCustoVariavel()}">
                                                <p:column headerText="Projeção total de custos variáveis (6 meses)">
                                                    <p:outputLabel  value="R$ #{custoVariavelTotal}">
                                                    </p:outputLabel>
                                                </p:column>
                                            </p:dataTable>
                                        </div>


                                        <div class="col-md-12 espaco">
                                            <p:commandButton class="botaoBaseComentario botaoVerde" 
                                                             rendered="#{(not empty revisarPlanoDeNegocioBean.comentarioProjeto.custoVariavel)
                                                                         and (!revisarPlanoDeNegocioBean.comentarioProjeto.custoVariavel.texto.equals(''))}"
                                                             id="comentarioCustoVariavel" 
                                                             type="button"
                                                             onclick="mostrarFeedBack('formulario_resubmeterplano:comentarioCustoVariavel2')"
                                                             value="Visualizar Comentário do Gerente"
                                                             title="Clique aqui para visualizar o comentário feito pelo gerente sobre a tabela acima."
                                                             icon="fa fa-eye">
                                            </p:commandButton>
                                        </div>
                                        <div class="has-success col-md-12 espaco">

                                            <p:inputTextarea class="campoFeedBack" 
                                                             style="resize: none;" 
                                                             cols="50" 
                                                             rows="5" 
                                                             disabled="true" 
                                                             id="comentarioCustoVariavel2" 

                                                             value="#{revisarPlanoDeNegocioBean.comentarioProjeto.custoVariavel.texto}"
                                                             >
                                            </p:inputTextarea>
                                        </div>
                                        <br/>
                                        <br/>
                                        <!--  <h:message class="mensagemErro" for="custosvariaveis"/>-->
                                        <br/>
                                        <br/>
                                    </h:panelGroup>

                                    <!-- |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||| -->                                 

                                    <div class="col-md-4"></div>
                                    <div class="col-md-4 text-center">
                                        <p:commandButton id="botaoSalvar6" 
                                                         class="botaoBase botaoVerde" 
                                                         type="button"
                                                         value="Salvar Revisão"
                                                         title="Salvar a revisão do projeto."
                                                         icon="fa fa-save">
                                            <p:ajax event="click"
                                                    update="formulario_resubmeterplano:mensagemSalvamento" 
                                                    onsuccess="funcaoAjaxSalvoPrimeFaces()"
                                                    listener="#{revisarPlanoDeNegocioBean.salvarRevisaoProjeto()}"/>                                         
                                        </p:commandButton>
                                        <h:message for="botaoSalvar6"></h:message>
                                    </div>
                                    <div class="col-md-4"></div>
                                </div>

                            </div>

                            <!-- Fim da sexta parte do formulário -->
                            <!-- Fim da sétima parte do formulário -->

                        </div>

                    </div>
                </div>
                </div>
                <div id="sessao_resultado_avaliador" class="classeConteudo col-md-10 form-horizontal well bs-component esconder-div">

                    <br/>
                    <div id="form-resultado" class="col-md-12 form-horizontal well bs-component">
                        <h1>Parecer do Gerente de Relacionamentos</h1>

                        <h3>Atenção:</h3>
                        <p>
                            Confira a baixo as observações gerais feitas pelo Gerente de Relacionamentos sobre o resultado do seu plano de negócio.
                        </p>
                        <b>Observações do Gerente de Relacionamentos <p:commandLink value="(?)" title="Ajuda com preenchimento" actionListener="#{ajudaview.showMessage('campoObservacoes')}"></p:commandLink></b>
                        <div class="col-md-12 espaco has-success" id="observacoes2">
                            <h:inputTextarea class="form-control semResize" onchange="precisaSalvar = true;"
                                             rows="10" id="campoObservacoes2" disabled="true" value="#{revisarPlanoDeNegocioBean.comentarioProjeto.todasConsideracoes()}">
                            </h:inputTextarea>
                            <br />
                        </div>

                        <h:panelGroup rendered="#{revisarPlanoDeNegocioBean.verificaExistenciaComentarioProjeto(projetoSelecionado) 
                                                  and revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}">

                            <p>
                                <h3>Aceito para Avaliação contendo sugestões de melhoria</h3>
                                <b>Selecione a aba "revisão" no menu lateral para conferir as sugestões feitas pelo Gerente</b> 
                            </p>
                        </h:panelGroup>

                        <h:panelGroup rendered="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}">
                            <hr></hr>
                            <p>
                                <h3>Avançar para Fase de Avaliação</h3>
                                <b>Parabéns, seu plano de negócio foi aceito para a fase de avaliação. 
                                    Clique no botão a baixo para levá-lo para a página da avaliação</b> 
                            </p>
                            <div class="divPadding text-center">
                                <p:button  class="botaoBase botaoVerde" 
                                                rendered="#{revisarPlanoDeNegocioBean.verificaStatusAceitoAvaliacao(projetoSelecionado)}"
                                                icon="fa fa-check"
                                                outcome="avaliacaoPlanoDeNegocio.jsf" 
                                                title="Avançar para proxima frase" 
                                                id="botao_proxima_fase" value="Próxima Fase">
                                </p:button>
                                <br/>
                            </div>
                        </h:panelGroup>
                    </div>
                
            </div>

            <!-- INICIO DA DIV DE PRE AVALIAÇÂO PARA PROJETOS COM STATUS SUBMETIDO-->

            <div id="sessao_plano_nao_avaliado" class="classeConteudo col-md-10 form-horizontal well bs-component esconder-div">

                <h1>Pré-Avaliação - Plano de Negócio</h1>


                <div class="well">
                    <strong> Situação: </strong> Este plano de negócio está sendo avaliado.
                </div>

                <div class="col-md-12 text-center">
                    <br/>
                </div>
            </div>

            <!-- FINAL DA DIV DE PRE AVALIAÇÂO PARA PROJETOS COM STATUS SUBMETIDO-->

        </h:form>

    </h:body>
</html>