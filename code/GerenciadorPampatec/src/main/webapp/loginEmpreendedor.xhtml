<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <f:facet name="last">
            <h:outputStylesheet library="css" name="login.css"  />
            <h:outputStylesheet library="css" name="projeto.css"  />
            <h:outputStylesheet library="css" name="font-awesome.min.css"/>
            <h:outputStylesheet library="css" name="animation.css"  />
            <h:outputStylesheet library="css" name="bootstrap.css"  />
            <h:outputStylesheet library="css" name="outro.css"  />
            <h:outputStylesheet library="css" name="sweetalert.css" /> 
            <h:outputStylesheet library="css" name="ns-default.css"/>
            <h:outputStylesheet library="css" name="ns-style-growl.css"/>
        </f:facet>

        <h:outputScript library="js" name="bootstrap-3.3.6.min.js"/>            

        <title>Acessar o Sistema - Login</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <style>
            @media print { 
                .noprint { display:none; } 
            </style>

            <script>
                /**
                 * Metodo sendo chamado no "a" de "esqueci a senha"
                 * Para trazer o campo do EMAIL dentro do modal sempre vazio  
                 * @returns {undefined}
                 */
                function limpaCampoEsqueciSenha() {
                    document.getElementById("formularioRecuperarSenha:email").value = "";
                }
                function exibeCarregando2() {
                    document.getElementById("carregando2").setAttribute("class", "carregando");

                }
                function escondeCarregando2() {
                    document.getElementById("carregando2").setAttribute("class", "invisivel");

                }
            </script>

        </h:head>
        <h:body>
            <div class="row">
                <br/><br/>
                <div class="col-md-2"></div>
                <div class="col-md-4 form-horizontal well bs-component">
                    <h1>Cadastre-se agora</h1>
                    <hr></hr>
                    <div id="empreendedorCadastro">
                        <h:form id="formularioDeCadastro">
                            <!--<h:message for="botaoRecuperarSenha" errorClass="mensagemErro" infoClass="mensagemSucesso" id="mensagemErro"/>-->
                            <div class="col-md-4" align="center">
                                <!--<h:message for="botaoLogin" errorClass="erro" infoClass="erro"> </h:message>-->
                            </div>
                            <div class ="col-md-12">
                                O Plano de Negócio define o que sua empresa faz, como ela vai gerar lucro e se sustentar no mercado. Definir o Plano é o primeiro passo para um negócio de sucesso.
                            </div>

                            <!--                    
                            <div class="col-md-12">
                                Insira seu nome<h:inputText class="form-control" id="nomeInput" value="#-{loginBean.user}"></h:inputText>
                            </div>
                            <div class="col-md-12">
                                Informe seu CPF<h:inputText class="form-control" id="cpfInput" value="#-{loginBean.senha}"></h:inputText>
                                <br/>  
                                
                            </div>
                            -->

                            <div class="col-md-5" align="left"></div>
                            <div class ="col-md-12">
                                <br/><br/><br/>
                                Efetue o cadastro para começar.
                                <br/>
                            </div>
                            <div class="col-md-1 modal-footer" align="left">
                            </div>

                            <div class="col-md-2 modal-footer" align="left">
                            </div>
                            <div class="col-md-5 modal-footer" align="center">
                            </div>                       

                            <div class="col-md-5 modal-footer text-center" align="left">
                                <p:commandButton id="botaoContinuaCadastro" 
                                                 class="botaoBase botaoVerde"
                                                 icon="fa fa-user"
                                                 style="padding: 5px 6px"
                                                 title="Cadastre-se para começar" 
                                                 value="Cadastrar" 
                                                 action="cadastroEmpreendedor.jsf" 
                                                 ajax="false">
                                </p:commandButton>
                            </div>
                        </h:form>
                    </div>
                </div>


                <div class="col-md-4 form-horizontal well bs-component" style="margin-left: 1%">
                    <h1>Acesse sua conta</h1>
                    <hr></hr>
                    <div id="empreendedorLogin">
                        <h:form id="formularioDeLogin">

                            <div class="mensagemErroLogin">
                                <h:message for="botaoLogin" 
                                           errorClass="erro" 
                                           infoClass="erro">
                                </h:message>
                            </div>
                            <div class="col-md-12" title="Digite seu email ou CPF">
                                Insira seu E-mail ou CPF
                                <h:inputText class="form-control" 
                                             id="emailInput" 
                                             value="#{systemAccessBean.user}">
                                </h:inputText>
                            </div>
                            <div class="col-md-12" title="Digite sua senha">
                                Senha
                                <h:inputSecret class="form-control" 
                                               id="senhaInput" 
                                               value="#{systemAccessBean.passphrase}">
                                </h:inputSecret>
                            </div> 
                            <div class="col-md-12" title="Recupere sua senha">
                                <a rel="modal" data-toggle="modal" href="#myModal" onclick="limpaCampoEsqueciSenha()">Esqueci minha senha</a>
                                <br/>
                            </div> 
                            <div class="col-md-1 modal-footer" align="left">
                            </div>

                            <div class="col-md-2 modal-footer" align="left">
                            </div>
                            <div class="col-md-5 modal-footer" align="center">
                            </div>
                            <div class="col-md-5 modal-footer" align="center">
                                <p:commandButton id="botaoLogin" 
                                                 class="botaoBase botaoVerde"
                                                 icon="fa fa-sign-in"
                                                 title="Acesse sua conta"
                                                 style="padding: 5px 12px"
                                                 value="Acessar" 
                                                 action="#{systemAccessBean.submit()}"
                                                 ajax="false">
                                </p:commandButton>
                            </div>

                        </h:form>
                    </div>
                </div>
                <div class="col-md-2"></div>
            </div>


            <!-- Modal de Recuperação de Senha -->
            <div id="myModal" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <h:form id="formularioRecuperarSenha">

                        <!-- Conteúdo do Modal -->
                        <div class="modal-content panel-success">
                            <div class="modal-header fundoVerde">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                <h4 class="modal-title">Esqueceu sua Senha?</h4>
                            </div>
                            <div class="modal-body">
                                <fieldset>
                                    <div class="col-md-12">
                                        Insira seu e-mail utilizado para Login para que possamos encaminhar as instruções para recuperação de senha.

                                        <p:inputText class="form-control" 
                                                     placeholder="Insira o seu e-mail" 
                                                     id="email"
                                                     required="true"
                                                     requiredMessage="Digite um e-mail"
                                                     validatorMessage="Digite um e-mail válido"
                                                     rendered="#{!systemAccessBean.emailEnviado}"
                                                     value="#{systemAccessBean.emailRecuperarSenha}">
                                            <f:validateRegex
                                                pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" /></p:inputText>
                                        <h:message errorClass="mensagemErro" infoClass="mensagemSucesso"
                                                   for="formularioRecuperarSenha:email" 
                                                   id="teste2"/>
                                        <br/>

                                    </div>
                                    <hr></hr>


                                    <!--                                    <div class="text-right col-md-12"> 
                                                                            <div class="col-md-10">
                                                                                <button type="button" 
                                                                                        class="btn btn-default" 
                                                                                        data-dismiss="modal">Voltar</button>
                                                                            </div>
                                    
                                                                            <h:commandButton id="botaoRecuperarSenha"
                                                                                             class="btn btn-success" 
                                                                                             value="Enviar" 
                                                                                             action="#{systemAccessBean.recuperarSenha()}" onclick="exibeCarregando2()">
                                                                                <f:ajax execute="@form" render="formularioRecuperarSenha:mensagemErro
                                                                                        formularioRecuperarSenha:teste2 formularioRecuperarSenha:painelCadastroIncompleto"/>
                                                                            </h:commandButton>
                                    
                                                                        </div>-->
                                </fieldset>

                            </div>
                            <div class="modal-footer">
                                <!--                                <div id="carregando2" class="invisivel">
                                                                    <h:graphicImage library="images" name="ajax-loader4.gif" alt="Carregando"/>
                                                                </div>-->
                                <button type="button" class="btn btn-default" title="Voltar" data-dismiss="modal">Cancelar</button>
                                <h:commandButton id="botaoRecuperarSenha" action="#{systemAccessBean.recuperarSenha()}" title="Enviar" class="btn btn-success" value="Enviar Instruções">
                                    <f:ajax execute="@form" render="formularioRecuperarSenha:teste2 formularioRecuperarSenha:email"/>
                                </h:commandButton>
                            </div>
                        </div>
                        <!-- Fim do Conteúdo do Modal -->

                    </h:form>

                </div>
            </div>
            <!-- Fim do Modal de Recuperação de Senha -->

            <!-- Início do footer profissional em HTML5+CCS3  -->
            <ui:insert name="rodape">
                <ui:include src="view/templateRodaPe.xhtml" />
            </ui:insert>
            <!-- Fim do footer profissional em HTML5+CCS3  -->
        </h:body>
    </html>