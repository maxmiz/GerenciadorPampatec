<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>

        <f:facet name="last">
            <h:outputStylesheet library="css" name="bootstrap.css"  />
            <h:outputStylesheet library="css" name="login.css"  />
            <h:outputStylesheet library="css" name="projeto.css"  />
            <h:outputStylesheet library="css" name="font-awesome.min.css"/>
        </f:facet>

        <h:outputScript library="js" name="jquery-2.2.2.min.js" />     
        <h:outputScript library="js" name="bootstrap-3.3.6.min.js"/>            
        <h:outputScript library="js" name="bootstrap.js" />

        <title>Acessar o Sistema - Login</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <style>
            @media print { 
                .noprint { display:none; } 
            </style>

        </h:head>
        <h:body>

            <div class="row">
                <div class="col-md-2"></div>

                <div class="col-md-4 form-horizontal well bs-component">
                    <h1>Cadastre-se agora</h1>
                    <hr></hr>
                    <div id="empreendedorCadastro">
                        <h:form id="formularioDeCadastro">
                            <!--<h:message for="botaoRecuperarSenha" errorClass="mensagemErro" infoClass="mensagemSucesso" id="mensagemErro"/>-->
                            <div class="col-md-4" align="center">
                                <!--<h:message for="botaoLogin" errorClass="erro" infoClass="erro"> </h:message>-->
                            </div>
                            <div class ="col-md-12">
                                O Plano de Negócio define o que sua empresa faz, como ela vai gerar lucro e se sustentar no mercado. Definir o Plano é o primeiro passo para um negócio de sucesso.
                            </div>

                            <!--                    
                            <div class="col-md-12">
                                Insira seu nome<h:inputText class="form-control" id="nomeInput" value="#-{loginBean.user}"></h:inputText>
                            </div>
                            <div class="col-md-12">
                                Informe seu CPF<h:inputText class="form-control" id="cpfInput" value="#-{loginBean.senha}"></h:inputText>
                                <br/>  
                                
                            </div>
                            -->
                            
                            <div class="col-md-5" align="left"></div>
                            <div class ="col-md-12">
                                <br/><br/><br/>
                                Efetue o cadastro para começar.
                                <br/>
                            </div>
                            <div class="col-md-1 modal-footer" align="left">
                            </div>

                            <div class="col-md-2 modal-footer" align="left">
                            </div>
                            <div class="col-md-5 modal-footer" align="center">
                            </div>                       
                                                    
                                                    
                            <div class="col-md-5 modal-footer text-center" align="left">
                                <p:commandButton id="botaoContinuaCadastro" 
                                                 class="botaoBase botaoVerde"
                                                 icon="fa fa-user"
                                                 style="padding: 5px 6px"
                                                 title="Cadastre-se para começar" 
                                                 value="Cadastrar" 
                                                 action="cadastroEmpreendedor.jsf" 
                                                 ajax="false">
                                </p:commandButton>
                            </div>

                        </h:form>
                    </div>
                </div>


                <div class="col-md-4 form-horizontal well bs-component" style="margin-left: 1%">
                    <h1>Acesse sua conta</h1>
                    <hr></hr>
                    <div id="empreendedorLogin">
                        <h:form id="formularioDeLogin">
                            <h:message for="botaoRecuperarSenha" 
                                       errorClass="mensagemErro" 
                                       infoClass="mensagemSucesso" 
                                       id="mensagemErro"/>
                            <div class="mensagemErroLogin">
                                <h:message for="botaoLogin" 
                                           errorClass="erro" 
                                           infoClass="erro">
                                </h:message>
                            </div>
                            <div class="col-md-12" title="Digite seu email ou CPF">
                                Insira seu E-mail ou CPF
                                <h:inputText class="form-control" 
                                             id="emailInput" 
                                             value="#{loginBean.user}">
                                </h:inputText>
                            </div>
                            <div class="col-md-12" title="Digite sua senha">
                                Senha<h:inputSecret class="form-control" id="senhaInput" value="#{loginBean.senha}"></h:inputSecret>
                            </div> 
                            <div class="col-md-12" title="Recupere sua senha">
                                <a rel="modal" data-toggle="modal" href="#myModal">Esqueci minha senha</a>
                                <br/>
                            </div> 
                            <div class="col-md-1 modal-footer" align="left">
                            </div>

                            <div class="col-md-2 modal-footer" align="left">
                            </div>
                            <div class="col-md-5 modal-footer" align="center">
                            </div>
                            <div class="col-md-5 modal-footer" align="center">
                                <p:commandButton id="botaoLogin" 
                                                 class="botaoBase botaoVerde"
                                                 icon="fa fa-sign-in"
                                                 title="Acesse sua conta"
                                                 style="padding: 5px 12px"
                                                 value="Acessar" 
                                                 action="#{loginBean.submit()}"
                                                 ajax="false">
                                </p:commandButton>
                            </div>
                            <!--                    <div class="col-md-5 modal-footer">
                                                    Não possui conta? <a href="faces/cadastroEmpreendedor.xhtml">Clique aqui</a> para se cadastrar.
                                                </div>-->

                        </h:form>
                    </div>
                </div>
                <div class="col-md-2"></div>

            </div>


            <!-- Modal de Recuperação de Senha -->
            <div id="myModal" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <!-- Conteúdo do Modal -->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h4 class="modal-title">Recuperação de senha</h4>
                        </div>
                        <div class="modal-body">
                            <h:form id="formularioRecuperarSenha">
                                <fieldset>
                                    <div class="col-md-12">
                                        E-mail
                                        <h:messages class="mensagemErro" for="formularioRecuperarSenha:botaoRecuperarSenha" id="teste2"/>
                                        <h:panelGroup id="painelCadastroIncompleto" rendered="#{loginBean.verificaCadastroIncompleto()}">
                                            <p>Alguém já adicionou você ao plano <a href="#">Clique Aqui</a>
                                                para completar o seu cadastro.
                                            </p>
                                        </h:panelGroup>
                                        <p:inputText class="form-control" placeholder="Insira o seu e-mail" id="email" value="#{loginBean.emailRecuperarSenha}"></p:inputText>
                                        <br/>

                                    </div>

                                    <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />

                                    <p:dialog widgetVar="statusDialog" style="margin-left: 35%;" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                                        <p:graphicImage url="http://i.imgur.com/XGw5fjp.gif" />
                                    </p:dialog>

                                    <div class="text-right col-md-12"> 
                                        <div class="col-md-10">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Voltar</button>
                                        </div>

                                        <h:commandButton id="botaoRecuperarSenha" class="btn btn-success" value="Enviar" action="#{loginBean.recuperarSenha()}">
                                            <f:ajax execute="@form" render="formularioRecuperarSenha:mensagemErro
                                                    formularioRecuperarSenha:teste2 formularioRecuperarSenha:painelCadastroIncompleto"/>
                                        </h:commandButton>

                                    </div>
                                </fieldset>
                            </h:form>
                        </div>
                    </div>
                    <!-- Fim do Conteúdo do Modal -->
                </div>
            </div>
            <!-- Fim do Modal de Recuperação de Senha -->
            
            <!-- Início do footer profissional em HTML5+CCS3  -->
            <ui:insert name="rodape">
                <ui:include src="view/templateRodaPe.xhtml" />
            </ui:insert>
            <!-- Fim do footer profissional em HTML5+CCS3  -->
        </h:body>
    </html>